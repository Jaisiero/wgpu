; SPIR-V
; Version: 1.4
; Generator: rspirv
; Bound: 72
OpCapability Shader
OpCapability RayTracingKHR
OpCapability RayQueryKHR
OpExtension "SPV_KHR_ray_query"
OpExtension "SPV_KHR_ray_tracing"
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint RayGenerationNV %15 "ray_gen" %12 %23
OpEntryPoint AnyHitNV %38 "discard_any_hit" %34 %35
OpEntryPoint AnyHitNV %47 "any_hit" %41 %42 %44
OpEntryPoint ClosestHitNV %55 "closest_hit" %50 %51 %53
OpEntryPoint MissNV %61 "miss" %60
OpEntryPoint IntersectionNV %64 "intersect_return" %69
OpMemberDecorate %8 0 Offset 0
OpMemberDecorate %8 1 Offset 4
OpMemberDecorate %8 2 Offset 8
OpMemberDecorate %8 3 Offset 12
OpMemberDecorate %8 4 Offset 16
OpMemberDecorate %8 5 Offset 32
OpMemberDecorate %11 0 Offset 28
OpDecorate %12 DescriptorSet 0
OpDecorate %12 Binding 0
OpDecorate %23 Location 0
OpDecorate %34 Location 0
OpDecorate %35 Location 0
OpDecorate %41 Location 0
OpDecorate %42 Location 0
OpDecorate %44 BuiltIn RayTmaxNV
OpDecorate %50 Location 0
OpDecorate %51 Location 0
OpDecorate %53 BuiltIn RayTmaxNV
OpDecorate %60 Location 0
%2 = OpTypeVoid
%3 = OpTypeAccelerationStructureNV
%5 = OpTypeFloat 32
%4 = OpTypeVector %5 4
%6 = OpTypeInt 32 0
%7 = OpTypeVector %5 3
%8 = OpTypeStruct %6 %6 %5 %5 %7 %7
%9 = OpTypePointer IncomingRayPayloadNV %4
%10 = OpTypeVector %5 2
%11 = OpTypeStruct %10
%13 = OpTypePointer UniformConstant %3
%12 = OpVariable  %13  UniformConstant
%16 = OpTypeFunction %2
%18 = OpConstantNull  %4
%19 = OpConstantNull  %8
%21 = OpTypePointer Function %4
%24 = OpTypePointer RayPayloadNV %4
%23 = OpVariable  %24  RayPayloadNV
%31 = OpConstant  %6  0
%32 = OpConstant  %6  1
%34 = OpVariable  %9  IncomingRayPayloadNV
%36 = OpTypePointer HitAttributeNV %11
%35 = OpVariable  %36  HitAttributeNV
%41 = OpVariable  %9  IncomingRayPayloadNV
%42 = OpVariable  %36  HitAttributeNV
%45 = OpTypePointer Input %5
%44 = OpVariable  %45  Input
%50 = OpVariable  %9  IncomingRayPayloadNV
%51 = OpVariable  %36  HitAttributeNV
%53 = OpVariable  %45  Input
%56 = OpConstant  %5  1.0
%57 = OpConstantComposite  %4  %56 %56 %56 %56
%60 = OpVariable  %9  IncomingRayPayloadNV
%65 = OpConstant  %5  0.5
%66 = OpConstant  %6  5
%68 = OpTypePointer HitAttributeNV %6
%69 = OpVariable  %68  HitAttributeNV
%71 = OpTypeBool
%15 = OpFunction  %2  None %16
%14 = OpLabel
%20 = OpVariable  %21  Function %18
%17 = OpLoad  %3  %12
OpBranch %22
%22 = OpLabel
%25 = OpCompositeExtract  %6  %19 0
%26 = OpCompositeExtract  %6  %19 1
%27 = OpCompositeExtract  %5  %19 2
%28 = OpCompositeExtract  %5  %19 3
%29 = OpCompositeExtract  %7  %19 4
%30 = OpCompositeExtract  %7  %19 5
OpCopyMemory %23 %20
OpTraceRayKHR %17 %25 %26 %31 %32 %31 %29 %27 %30 %28 %23
OpCopyMemory %20 %23
OpReturn
OpFunctionEnd
%38 = OpFunction  %2  None %16
%33 = OpLabel
%37 = OpLoad  %11  %35
OpBranch %39
%39 = OpLabel
OpStore %34 %18
OpIgnoreIntersectionKHR
OpFunctionEnd
%47 = OpFunction  %2  None %16
%40 = OpLabel
%43 = OpLoad  %11  %42
%46 = OpLoad  %5  %44
OpBranch %48
%48 = OpLabel
OpStore %41 %18
OpReturn
OpFunctionEnd
%55 = OpFunction  %2  None %16
%49 = OpLabel
%52 = OpLoad  %11  %51
%54 = OpLoad  %5  %53
OpBranch %58
%58 = OpLabel
OpStore %50 %57
OpReturn
OpFunctionEnd
%61 = OpFunction  %2  None %16
%59 = OpLabel
OpBranch %62
%62 = OpLabel
OpStore %60 %18
OpReturn
OpFunctionEnd
%64 = OpFunction  %2  None %16
%63 = OpLabel
OpBranch %67
%67 = OpLabel
OpStore %69 %31
%70 = OpReportIntersectionNV  %71  %65 %66
OpReturn
OpFunctionEnd