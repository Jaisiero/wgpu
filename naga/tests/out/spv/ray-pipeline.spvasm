; SPIR-V
; Version: 1.4
; Generator: rspirv
; Bound: 85
OpCapability Shader
OpCapability RayTracingKHR
OpCapability RayQueryKHR
OpExtension "SPV_KHR_ray_query"
OpExtension "SPV_KHR_ray_tracing"
%1 = OpExtInstImport "GLSL.std.450"
OpMemoryModel Logical GLSL450
OpEntryPoint RayGenerationNV %34 "ray_gen" %12 %38 %23
OpEntryPoint AnyHitNV %51 "discard_any_hit" %47 %48
OpEntryPoint AnyHitNV %60 "any_hit" %54 %55 %57
OpEntryPoint ClosestHitNV %68 "closest_hit" %63 %64 %66
OpEntryPoint MissNV %74 "miss" %73
OpEntryPoint IntersectionNV %77 "intersect_return" %82
OpMemberDecorate %8 0 Offset 0
OpMemberDecorate %8 1 Offset 4
OpMemberDecorate %8 2 Offset 8
OpMemberDecorate %8 3 Offset 12
OpMemberDecorate %8 4 Offset 16
OpMemberDecorate %8 5 Offset 32
OpMemberDecorate %11 0 Offset 28
OpDecorate %12 DescriptorSet 0
OpDecorate %12 Binding 0
OpDecorate %23 Location 0
OpDecorate %38 Location 0
OpDecorate %47 Location 0
OpDecorate %48 Location 0
OpDecorate %54 Location 0
OpDecorate %55 Location 0
OpDecorate %57 BuiltIn RayTmaxNV
OpDecorate %63 Location 0
OpDecorate %64 Location 0
OpDecorate %66 BuiltIn RayTmaxNV
OpDecorate %73 Location 0
%2 = OpTypeVoid
%3 = OpTypeAccelerationStructureNV
%5 = OpTypeFloat 32
%4 = OpTypeVector %5 4
%6 = OpTypeInt 32 0
%7 = OpTypeVector %5 3
%8 = OpTypeStruct %6 %6 %5 %5 %7 %7
%9 = OpTypePointer IncomingRayPayloadNV %4
%10 = OpTypeVector %5 2
%11 = OpTypeStruct %10
%13 = OpTypePointer UniformConstant %3
%12 = OpVariable  %13  UniformConstant
%16 = OpTypeFunction %2
%18 = OpConstantNull  %4
%19 = OpConstantNull  %8
%21 = OpTypePointer Function %4
%24 = OpTypePointer RayPayloadNV %4
%23 = OpVariable  %24  RayPayloadNV
%31 = OpConstant  %6  0
%32 = OpConstant  %6  1
%38 = OpVariable  %24  RayPayloadNV
%47 = OpVariable  %9  IncomingRayPayloadNV
%49 = OpTypePointer HitAttributeNV %11
%48 = OpVariable  %49  HitAttributeNV
%54 = OpVariable  %9  IncomingRayPayloadNV
%55 = OpVariable  %49  HitAttributeNV
%58 = OpTypePointer Input %5
%57 = OpVariable  %58  Input
%63 = OpVariable  %9  IncomingRayPayloadNV
%64 = OpVariable  %49  HitAttributeNV
%66 = OpVariable  %58  Input
%69 = OpConstant  %5  1.0
%70 = OpConstantComposite  %4  %69 %69 %69 %69
%73 = OpVariable  %9  IncomingRayPayloadNV
%78 = OpConstant  %5  0.5
%79 = OpConstant  %6  5
%81 = OpTypePointer HitAttributeNV %6
%82 = OpVariable  %81  HitAttributeNV
%84 = OpTypeBool
%15 = OpFunction  %2  None %16
%14 = OpLabel
%20 = OpVariable  %21  Function %18
%17 = OpLoad  %3  %12
OpBranch %22
%22 = OpLabel
%25 = OpCompositeExtract  %6  %19 0
%26 = OpCompositeExtract  %6  %19 1
%27 = OpCompositeExtract  %5  %19 2
%28 = OpCompositeExtract  %5  %19 3
%29 = OpCompositeExtract  %7  %19 4
%30 = OpCompositeExtract  %7  %19 5
OpCopyMemory %23 %20
OpTraceRayKHR %17 %25 %26 %31 %32 %31 %29 %27 %30 %28 %23
OpCopyMemory %20 %23
OpReturn
OpFunctionEnd
%34 = OpFunction  %2  None %16
%33 = OpLabel
%36 = OpVariable  %21  Function %18
%35 = OpLoad  %3  %12
OpBranch %37
%37 = OpLabel
%39 = OpCompositeExtract  %6  %19 0
%40 = OpCompositeExtract  %6  %19 1
%41 = OpCompositeExtract  %5  %19 2
%42 = OpCompositeExtract  %5  %19 3
%43 = OpCompositeExtract  %7  %19 4
%44 = OpCompositeExtract  %7  %19 5
OpCopyMemory %38 %36
OpTraceRayKHR %35 %39 %40 %31 %32 %31 %43 %41 %44 %42 %38
OpCopyMemory %36 %38
%45 = OpFunctionCall  %2  %15
OpReturn
OpFunctionEnd
%51 = OpFunction  %2  None %16
%46 = OpLabel
%50 = OpLoad  %11  %48
OpBranch %52
%52 = OpLabel
OpStore %47 %18
OpIgnoreIntersectionKHR
OpFunctionEnd
%60 = OpFunction  %2  None %16
%53 = OpLabel
%56 = OpLoad  %11  %55
%59 = OpLoad  %5  %57
OpBranch %61
%61 = OpLabel
OpStore %54 %18
OpReturn
OpFunctionEnd
%68 = OpFunction  %2  None %16
%62 = OpLabel
%65 = OpLoad  %11  %64
%67 = OpLoad  %5  %66
OpBranch %71
%71 = OpLabel
OpStore %63 %70
OpReturn
OpFunctionEnd
%74 = OpFunction  %2  None %16
%72 = OpLabel
OpBranch %75
%75 = OpLabel
OpStore %73 %18
OpReturn
OpFunctionEnd
%77 = OpFunction  %2  None %16
%76 = OpLabel
OpBranch %80
%80 = OpLabel
OpStore %82 %31
%83 = OpReportIntersectionNV  %84  %78 %79
OpReturn
OpFunctionEnd